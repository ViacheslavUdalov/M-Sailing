<div *ngIf="equipment" class="equipment-details">

  <div class="details" @animations>
    <div class="productdata">
      <img [src]="equipment.pictures" alt="{{ equipment.name }}" class="equipment-image">
      <div class="info">
        <h2 class="name">{{ equipment.name }}</h2>
        <h3 class="textproduct"><strong style="font-weight: bold">{{ equipment.price }} Руб.</strong></h3>
<!--        <h3 class="textproduct"><strong>Тип товара: </strong>  {{ equipment.type }}</h3>-->

          <div style="margin-top: 40px" *ngIf="equipment.productVariants && equipment.productVariants.length > 0" >
            <button style="" class="button-size" *ngFor="let variant of equipment.productVariants"
                    (click)="onSizeChange(variant)"
                    [class.selected]="selectedSize === variant"
                    [class.disable]="variant.quantity === 0"
                    [disabled]="variant.quantity === 0">

              <strong>{{ variant.size }}</strong><br>
              <span *ngIf="variant.quantity != 0" style="font-size: small">{{variant.quantity}} шт. </span>
            </button>
          </div>
        <span>Выберете размер, что бы добавить товар в корзину.</span>

        <h3 class="textproduct"><strong>Наличие товара: </strong>  <span [class.green]="equipment.typeForBuy === 'Есть в наличии'"
                                                                         [class.red]="equipment.typeForBuy === 'Под заказ'">{{ equipment.typeForBuy }}</span></h3>
        <div class="buttons">
          <div class="inside-buttons">
            <button (click)="addItem(equipment)" [class.dis]="selectedSize == null || selectedSize.quantity == quantityInBasket" [disabled]="selectedSize == null || selectedSize.quantity == quantityInBasket" class="addToCart" style="margin: 0">Добавить в Корзину</button>

            <a class="delete-button" *ngIf="isProductAddedToCart || quantityInBasket !== 0" (click)="removeFromCart(equipment.id)"><span class="material-symbols-outlined">
delete
</span></a>

          </div>
<!--          <span>Количество данного товара в корзине: <strong>{{quantityInBasket}}</strong> - Редактировать количество Вы сможете перейдя в корзину  </span><br>-->
          <div class="plus-minus">
            <button class="addToCart" style="margin: 0" [class.dis]="!selectedSize || quantityInBasket == 0 || selectedSize.quantity == quantityInBasket" [disabled]="!selectedSize || quantityInBasket == 0 || selectedSize.quantity == quantityInBasket" (click)="increaseQuantity(equipment.id, selectedSize.size)">+</button>
            <strong class="quantity">{{ quantityInBasket}}</strong>
            <button class="addToCart" style="margin: 0" [class.dis]="!selectedSize || quantityInBasket == 0" [disabled]="!selectedSize || quantityInBasket == 0" (click)="decreaseQuantity(equipment.id, selectedSize.size)">-</button>
<!--          <button class="addToCart" [class.dis]="!selectedSize || quantityInBasket == 0" [disabled]="!selectedSize || quantityInBasket == 0" (click)="removeFromCart(equipment.id)">Удалить</button>-->
        </div>
          <a routerLink="/basket" style="font-size: smaller; margin-top: 5px">Перейти в корзину</a>
          <div style="margin: 10px; display: flex; flex-direction: column;">
            <a class="edit" [routerLink] = "['/create-equipment', equipment.id]" *appHasRole="['Admin']">Редактировать товар</a>
            <a class="edit" *appHasRole="['Admin']">Удалить(товар будет полностью удалён)</a>

          </div>

        </div>


      </div>
    </div>
    <div class="description">
      <p ><strong style="margin-bottom: 10px">Описание:</strong><br> {{ equipment.description }}</p>
    </div>
    <div>
      <app-size-table></app-size-table>
      <h2>Похожие товары:</h2>
      <app-dataproductshelper (click)="clickToTop()" [data]="addition" [title]="'/equipment'"></app-dataproductshelper>
    </div>
  </div>

</div>

